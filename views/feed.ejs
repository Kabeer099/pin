<% include ./partials/header.ejs %>

<div class="p-4 bg-[#111118] w-full min-h-screen">
  <!-- Masonry Grid -->
  <div class="masonry-grid">
    <% posts.forEach(function(elem){ %>
      <div class="masonry-item group relative overflow-hidden rounded-lg">
        
        <!-- Post Image -->
        <a href="/show/posts/<%= elem._id %>">
          <img 
            src="/images/uploads/<%= elem.image %>" 
            alt="<%= elem.title %>"
            class="w-full h-[60vh] rounded-lg object-cover transition-transform duration-300 ease-in-out group-hover:scale-105 mobile-img">
        </a>

        <!-- Gradient Overlay -->
        <div class="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"></div>

        <!-- Title -->
        <p class="absolute bottom-4 left-4 text-base font-medium text-white">
          <%= elem.title %>
        </p>
      </div>
    <% }) %>
  </div>
</div>

<% include ./partials/footer.ejs %>

<style>
  .masonry-grid {
    column-count: 4;
    column-gap: 1.5rem;
  }
  .masonry-item {
    break-inside: avoid;
    margin-bottom: 1.5rem;
  }
  @media (max-width: 1024px) {
    .masonry-grid {
      column-count: 3;
    }
  }
  @media (max-width: 768px) {
    .masonry-grid {
      column-count: 2; /* ðŸ‘ˆ tablet pe 2 */
    }
  }
  @media (max-width: 640px) {
    .masonry-grid {
      column-count: 2; /* ðŸ‘ˆ mobile pe bhi 2 */
    }
    .mobile-img {
      max-height: 250px; /* ðŸ‘ˆ mobile pe height limit */
      object-fit: cover;
    }
  }
</style>
